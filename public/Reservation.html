<!DOCTYPE html>
<html class="h-100" lang="ko">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100;300;400;500;700;900&display=swap"
    rel="stylesheet">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
  <link href="main.css" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.3.0/font/bootstrap-icons.css">


  <script src="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.js"></script>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/semantic-ui@2.4.2/dist/semantic.min.css">
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

  <!-- Calendar lib. Flatpickr. Only for Index -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
  <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
  <script src="https://npmcdn.com/flatpickr/dist/flatpickr.min.js"></script>
  <script src="https://npmcdn.com/flatpickr/dist/l10n/ko.js"></script>

</head>

<body class="d-flex flex-column h-100 ">
  <!-- 상단바 시작 -->
  <header >
    <div class="container">
      <div class="d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
        <a href="#" class="d-flex align-items-center mb-2 mb-lg-0 text-dark text-decoration-none">
          <!-- 임시 이미지 -->
          <img src="https://cdn-icons-png.flaticon.com/512/7273/7273632.png" width="32" height="32" alt="LogoImage">
        </a>

        <ul class="nav col-12 col-lg-auto me-lg-auto mb-2 justify-content-center mb-md-0">
          <li><a href="MainPage_LogIn.html" class="nav-link mr-3 px-3 link-secondary">Home</a></li>
          <li><a href="LocationPage.html" class="nav-link px-2 link-dark">위치</a></li>
          <li><a href="Reservation.html" class="nav-link px-2 link-dark">예약</a></li>
          <li><a href="ReviewList.html" class="nav-link px-2 link-dark">리뷰</a></li>
          <li><a href="Community.html" class="nav-link px-2 link-dark">커뮤니티</a></li>
           <li><a href="upload.html" class="nav-link px-2 link-dark">등록</a></li>
        </ul>

        <form class="col-12 col-lg-auto mb-3 mb-lg-0 me-lg-3">
          <input type="searchAll" class="form-control" placeholder="검색" aria-label="Search">
        </form>
      </div>
    </div>
  </header>
  <!-- 상단바 종료 -->  
        </div>
      </div>
    </nav>
  </header>
      
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.6.5/firebase-storage.js"></script>
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="main.css"></script>

  <script>
  const firebaseConfig = {
  apiKey: "AIzaSyA5-JlZcW8dgsjbgXAdQY2jMBdV4_RMq-s",
  authDomain: "refill-station-71fb7.firebaseapp.com",
  databaseURL: "https://refill-station-71fb7-default-rtdb.firebaseio.com",
  projectId: "refill-station-71fb7",
  storageBucket: "refill-station-71fb7.appspot.com",
  messagingSenderId: "631091268110",
  appId: "1:631091268110:web:78fb4b839bab7660710a5f"
};

// Initialize Firebase
    firebase.initializeApp(firebaseConfig) 
    </script>

   <script>
      const db = firebase.firestore(); 
      db.collection('Shop').get().then((결과)=>{
      결과.forEach((doc)=>{
      console.log(doc.data());
      var 상점 = `
       <div class="shop">
      <div class ="flex-grow-1 p-4">
      <h5 class="shopName">${doc.data().상점명}</h5>
      <p class="address">${doc.data().주소}</p>
      <p class="time">영업시간: ${doc.data().영업시간}</p>
      <p class="shopDetail">${doc.data().상세설명}</p>
        `;
      $('.container').append(상점)
    })
  })

db.collection('Product').get().then((결과)=>{
  결과.forEach((doc)=>{
  console.log(doc.data());
  var 상품 = `
  <div class="product">
    <div class="thumbnail" style="background-image: url('${doc.data().이미지}')"></div>
    <div class="flex-grow-1 p-4">
      <h5 class="productName"><a href="/detail.html?id=${doc.id}">${doc.data().상품명}</a></h5>
      <p class="price">${doc.data().가격}원</p>
    </div>
  </div>
</div>
    `;
  $('.container').append(상품)
  })
})
</script>

      <ul class="nav nav-pills nav-justified my-5" id="pills-tab" role="tablist">
        <li class="nav-item p d-flex" role="presentation">
          <button class="nav-link card mx-auto flex-fill" id="pills-home-tab" data-bs-toggle="pill"
             type="button"  aria-controls="pills-home" aria-selected="true"
            onclick="show_pays($(this).attr('id'))">
            <div class="content text-center mx-auto">
              <div class="description mobile-text-s">
                <p>예약</p>
              </div>
            </div>
          </button>
        </li>
        <div class="ui bottom attached tab segment" data-tab="price">
          <table class="table">
            <thead>
      <div class="tab-content mt-4 d-none" id="pills-tabContent">
        <div class="tab-pane fade show active" id="pills-home" role="tabpanel" aria-labelledby="pills-home-tab">
          <div class="row">
            <div class="col-lg-2 mb-3">
              
              <div class="list-group" id="list-tab" role="tablist">
                <a class="list-group-item list-group-item-action" id="list-home-list" data-bs-toggle="list"
                  href="#list-home" role="tab" aria-controls="home" onclick="select_seat($(this).attr('id'))">예약 시간</a>
              </div>
            </div>
          </thead>

            <div class="col-lg-10">
              <div class="tab-content" id="nav-tabContent">
                <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
                  <div class="row">
                    <div class="col-lg-4 second_column" id="">
                      <div id="show_cal" class="d-none">
                        <input type="text" id="calendar-oneday" class="calendars">
                      </div>                     
                      <div id="show_hour" class="d-none mb-3">
                        <h4 class="ui dividing header mt-3">상품 선택</h4>
                        <button class="ui tertiary button" onclick="select_hour($(this).attr('id'))"
                          id="h1">고체 치약</button>
                        <button class="ui tertiary button" onclick="select_hour($(this).attr('id'))"
                          id="h2">샴푸바</button>
                        <button class="ui tertiary button" onclick="select_hour($(this).attr('id'))"
                          id="h3">컨디셔너바</button>
                        <button class="ui tertiary button" onclick="select_hour($(this).attr('id'))"
                          id="h4">대나무 칫솔</button>
                      </div>
                    </div>

                    <div class="col-lg-8  d-none" id="show_seat">
                      <h5 class="ui dividing header">수량 선택</h5>
                        <div class="tab-content" id="v-pills-tabContent">
                          <div class="tab-pane fade" id="v-pills-profile" role="tabpanel"
                            aria-labelledby="v-pills-profile-tab"> 
                          </div>
                          <div class="tab-pane fade" id="v-pills-messages" role="tabpanel"
                            aria-labelledby="v-pills-messages-tab">
                          </div>
                          <div class="tab-pane fade show active" id="v-pills-settings" role="tabpanel"
                            aria-labelledby="v-pills-settings-tab">
                            <div class="btn-group-lg mt-3" role="group" aria-label="Basic radio toggle button group"
                              id="s-radio">
                              <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off" value="1">
                              <label class="btn btn-outline-dark mr-3" for="btnradio1"> 1개 </label>
                              <label class="btn btn-outline-dark mr-3" for="btnradio2"> 2개 </label>
                              <label class="btn btn-outline-dark mr-3" for="btnradio3"> 3개 </label>
                          </div>
                        </div>

                        <ul class="nav nav-pills mb-3 ui text menu" id="v-pills-tab" role="tablist">
                          <li class="nav-item" role="presentation">
                            <a class="item" id="v-pills-profile-tab" data-bs-toggle="pill"
                              data-bs-target="#v-pills-profile" type="button" role="tab" aria-controls="v-pills-profile"
                              aria-selected="false"></a>
                          </li> 
                        </ul>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>   
      </div>

     <!-- 예약 내역 박스 -->
      <div class="ui black segment my-5 full-width d-none" id="pay-box">
        <div class="pays">
          <h1 class="ui header"><a href="/User_Reservation.html">예약</a></h1>
          <div id="pay-detail-s" class="pay">
            <span id="select_seat" class="category c-text fs-5"></span> &nbsp;
            <span id="select_date" class="fw-light text-secondary"></span> &nbsp; &nbsp;
            <span id="select_hour" class="duration fw-bold"></span> &nbsp;
            <a><span id="_seat" class="category c-text fs-5"></span>개</a>
          </div>
      </div>
  </main>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-b5kHyXgcpbZJO/tY9Ul7kGkf1S0CWuKcCD38l8YkeH8z8QjE0GmW1gYU5S9FOnJ0"
    crossorigin="anonymous"></script>

  <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.css">
  <script src="https://cdn.jsdelivr.net/npm/fomantic-ui@2.8.7/dist/semantic.min.js"></script>


  <script src="./Reservation.js"></script>
  <script src="./Reservation.css"></script>

  <script>
    // 날짜 선택 
    $("#calendar-oneday").change(function () {
      document.getElementById("select_date").textContent = $('#calendar-oneday').val();
      document.getElementById("show_hour").classList.remove("d-none");
    });

    $("#calendar-range").change(function () {
      document.getElementById("select_days_locker").textContent = $('#calendar-range').val();
    });

    flatpickr('#calendar-range', {
      "mode": "range",
      "locale": "ko",
      minDate: "today",
      inline: true,    
    });

    flatpickr.localize(flatpickr.l10ns.ko);

    flatpickr('#calendar-oneday', {
      minDate: "today",
      inline: true,
      "locale": "ko",
      enableTime: true,
      dateFormat: "Y-m-d H:i",
      defaultDate: "today",
      onChange: function (dateObj) {      
      }
    });

    // 수량 선택
    $("#s-radio").change(function () {
      document.getElementById("_seat").textContent = $("input[type='radio'][name='btnradio']:checked").val();
 
      show_pay_box();
    });
  </script>
</body>
</html>
